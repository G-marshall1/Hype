{{> layout}}

<section>
  <h2>Video Submissions</h2>

  <!-- Video Submission Form Stuff -->
  <form action="/video/submit" method="post">
    <label for="title">Video Title:</label>
    <input type="text" id="title" name="title" required>

    <label for="description">Description:</label>
    <textarea id="description" name="description"></textarea>

    <label for="videoUrl">Video URL:</label>
    <input type="text" id="videoUrl" name="videoUrl" required>

    <button type="submit">Submit Video</button>
  </form>

  <hr>

  <!-- List of Video Submissions Stuff -->
  {{#if videos.length}}
    <ul>
      {{#each videos}}
        <li>
          <h3>{{this.title}}</h3>
          <p>{{this.description}}</p>
          <iframe width="560" height="315" src="{{this.videoUrl}}" frameborder="0" allowfullscreen></iframe>
          
          <!-- Vote Form Stuff, might need to be moved. Definetly needs to be refracted -->
          <form action="/video/vote" method="post">
            <input type="hidden" name="videoId" value="{{this.id}}">
            <button type="submit">Vote</button>
          </form>

        </li>
      {{/each}}
    </ul>
  {{else}}
    <p>No video submissions available.</p>
  {{/if}}
</section>

<!-- needs script import to make it work -->
<script src="/public/js/videoSubmission.js"></script>